{"ast":null,"code":"import _slicedToArray from\"C:\\\\coding\\\\tonysgrotto\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import axios from\"axios\";import{useState,useEffect,useContext}from\"react\";import{TicketContext}from\"../contexts/TicketContext\";var DeleteTicket=function DeleteTicket(props){var _useContext=useContext(TicketContext),_useContext2=_slicedToArray(_useContext,2),tickets=_useContext2[0],setTickets=_useContext2[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),ticket=_useState2[0],setTicket=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8080/tickets/\"+props.value.ticket.ticket._id).then(function(response){setTicket(response.data);}).catch(function(error){console.log(error);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();axios.delete(\"http://localhost:8080/tickets/delete/\"+ticket._id).then(function(res){tickets.map(function(t,index){if(t._id===ticket._id){var i=index;console.log(i);var newTickets=tickets.slice();newTickets.splice(i,1);//remove 1 element before 'index' (3rd parameter is empty because we dont want to insert anything)\nsetTickets(newTickets);}});});// props.history.push(\"/\");\n// setTickets((currentTickets) => [...currentTickets, { name: name, status: \"backlog\", id: uuid() }]);\n};return/*#__PURE__*/React.createElement(\"button\",{className:\"deleteBtn\",onClick:handleSubmit},\"Delete Ticket\");};export default DeleteTicket;","map":{"version":3,"sources":["C:/coding/tonysgrotto/src/addData/DeleteTicket.js"],"names":["React","axios","useState","useEffect","useContext","TicketContext","DeleteTicket","props","tickets","setTickets","ticket","setTicket","get","value","_id","then","response","data","catch","error","console","log","handleSubmit","e","preventDefault","delete","res","map","t","index","i","newTickets","slice","splice"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,KAAgD,OAAhD,CACA,OAASC,aAAT,KAA8B,2BAA9B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,iBACAH,UAAU,CAACC,aAAD,CADV,4CACvBG,OADuB,iBACdC,UADc,+BAEFP,QAAQ,CAAC,EAAD,CAFN,wCAEvBQ,MAFuB,eAEfC,SAFe,eAG9BR,SAAS,CAAC,UAAM,CACdF,KAAK,CACFW,GADH,CACO,iCAAmCL,KAAK,CAACM,KAAN,CAAYH,MAAZ,CAAmBA,MAAnB,CAA0BI,GADpE,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBL,SAAS,CAACK,QAAQ,CAACC,IAAV,CAAT,CACD,CAJH,EAKGC,KALH,CAKS,SAAUC,KAAV,CAAiB,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPH,EAQD,CATQ,CASN,EATM,CAAT,CAWA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAvB,KAAK,CAACwB,MAAN,CAAa,wCAA0Cf,MAAM,CAACI,GAA9D,EAAmEC,IAAnE,CAAwE,SAACW,GAAD,CAAS,CAC/ElB,OAAO,CAACmB,GAAR,CAAY,SAACC,CAAD,CAAIC,KAAJ,CAAc,CACxB,GAAID,CAAC,CAACd,GAAF,GAAUJ,MAAM,CAACI,GAArB,CAA0B,CACxB,GAAMgB,CAAAA,CAAC,CAAGD,KAAV,CACAT,OAAO,CAACC,GAAR,CAAYS,CAAZ,EACA,GAAMC,CAAAA,UAAU,CAAGvB,OAAO,CAACwB,KAAR,EAAnB,CACAD,UAAU,CAACE,MAAX,CAAkBH,CAAlB,CAAqB,CAArB,EAAyB;AACzBrB,UAAU,CAACsB,UAAD,CAAV,CACD,CACF,CARD,EASD,CAVD,EAYA;AAEA;AACD,CAjBD,CAmBA,mBACE,8BAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAET,YAAvC,kBADF,CAKD,CAtCD,CAuCA,cAAehB,CAAAA,YAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { TicketContext } from \"../contexts/TicketContext\";\r\n\r\nconst DeleteTicket = (props) => {\r\n  const [tickets, setTickets] = useContext(TicketContext);\r\n  const [ticket, setTicket] = useState(\"\");\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8080/tickets/\" + props.value.ticket.ticket._id)\r\n      .then((response) => {\r\n        setTicket(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios.delete(\"http://localhost:8080/tickets/delete/\" + ticket._id).then((res) => {\r\n      tickets.map((t, index) => {\r\n        if (t._id === ticket._id) {\r\n          const i = index;\r\n          console.log(i);\r\n          const newTickets = tickets.slice();\r\n          newTickets.splice(i, 1); //remove 1 element before 'index' (3rd parameter is empty because we dont want to insert anything)\r\n          setTickets(newTickets);\r\n        }\r\n      });\r\n    });\r\n\r\n    // props.history.push(\"/\");\r\n\r\n    // setTickets((currentTickets) => [...currentTickets, { name: name, status: \"backlog\", id: uuid() }]);\r\n  };\r\n\r\n  return (\r\n    <button className=\"deleteBtn\" onClick={handleSubmit}>\r\n      Delete Ticket\r\n    </button>\r\n  );\r\n};\r\nexport default DeleteTicket;\r\n"]},"metadata":{},"sourceType":"module"}