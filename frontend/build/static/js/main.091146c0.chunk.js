(this.webpackJsonptonysgrotto=this.webpackJsonptonysgrotto||[]).push([[0],{39:function(e,t,a){e.exports=a(78)},44:function(e,t,a){},45:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(15),o=a.n(l),r=(a(44),a(45),a(16)),i=a.n(r),s=a(34),u=a(2),m=a(6),d=a.n(m),E=Object(n.createContext)(),p=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){l.length||r()}),[]);var r=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://localhost:8080/tickets/");case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(E.Provider,{value:[l,o]},e.children)},k=a(17),b=a.n(k),f=a(38),g=function(e){var t=Object(n.useContext)(E),a=Object(u.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),s=i[0],m=i[1],p=Object(n.useState)(e.value.ticket.ticket.ticket_name),k=Object(u.a)(p,2),b=k[0],g=k[1],h=Object(n.useState)("backlog"),v=Object(u.a)(h,2),N=v[0],O=v[1];console.log(e),console.log(l),Object(n.useEffect)((function(){d.a.get("http://localhost:8080/tickets/"+e.value.ticket.ticket._id).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("div",{className:"editForm"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={ticket_name:b,ticket_status:N};d.a.post("http://localhost:8080/tickets/update/"+s._id,t).then((function(e){console.log(s._id),console.log(e.data),l.map((function(t,a){if(t._id===s._id){var n=a;console.log(n);var c=l.slice();c.splice(a,1,Object(f.a)({},s,{ticket_name:e.data.ticket.ticket_name,ticket_status:e.data.ticket.ticket_status})),o(c)}}))})),g(""),O("")}},c.a.createElement("label",{for:"name"},"Change Name:"),c.a.createElement("input",{type:"text",name:"name",value:b,onChange:function(e){g(e.target.value),console.log({name:b})}}),c.a.createElement("label",{for:"status"},"Change Status:"),c.a.createElement("select",{name:"status",value:N,onChange:function(e){O(e.target.value),console.log({status:N})}},c.a.createElement("option",{selected:!0,value:"backlog"},"backlog"),c.a.createElement("option",{value:"sprint"},"sprint"),c.a.createElement("option",{value:"progress"},"progress"),c.a.createElement("option",{value:"done"},"done")),c.a.createElement("input",{type:"submit",name:"Submit",className:"submit"})))},h=function(e){var t=Object(n.useContext)(E),a=Object(u.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),s=i[0],m=i[1];Object(n.useEffect)((function(){d.a.get("http://localhost:8080/tickets/"+e.value.ticket.ticket._id).then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]);return c.a.createElement("button",{className:"deleteBtn",onClick:function(e){e.preventDefault(),d.a.delete("http://localhost:8080/tickets/delete/"+s._id).then((function(e){l.map((function(e,t){if(e._id===s._id){var a=t;console.log(a);var n=l.slice();n.splice(a,1),o(n)}}))}))}},"Delete Ticket")},v={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(44, 47, 51, 0.75)"},content:{paddingLeft:"75px",paddingRight:"75px",paddingBottom:"50px",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"var(--dark)"}};b.a.setAppElement(document.getElementById("root"));var N=function(e){var t,a=c.a.useState(!1),n=Object(u.a)(a,2),l=n[0],o=n[1];function r(){o(!1)}return c.a.createElement("div",null,c.a.createElement("button",{className:"editButton",onClick:function(){o(!0)}},"edit"),c.a.createElement(b.a,{isOpen:l,onAfterOpen:function(){t.style.color="#f00"},onRequestClose:r,style:v,contentLabel:"Example Modal"},c.a.createElement("h2",{ref:function(e){return t=e}},"edit/delete"),c.a.createElement(g,{value:e}),c.a.createElement("div",{className:""},c.a.createElement(h,{value:e}),c.a.createElement("button",{className:"closeModal",onClick:r},"Close"))))},O=function(e){return c.a.createElement("tr",{className:"ticketItem"},c.a.createElement("td",{className:"edit-button-data"},e.ticket.ticket_name&&c.a.createElement(N,{ticket:e})),c.a.createElement("td",{className:"status-data"},e.ticket.ticket_status),c.a.createElement("td",{className:"name-data"},e.ticket.ticket_name),c.a.createElement("td",{className:"name-data"},e.ticket._id))},_=function(e){var t=Object(n.useContext)(E),a=Object(u.a)(t,2),l=a[0];a[1];return console.log("TicketDisplay mounted"),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("p",null,"User: Tony"),c.a.createElement("p",null,"Number of Tickets: ",l.length)),c.a.createElement("div",{className:"display"},c.a.createElement("div",{className:"backlog"},c.a.createElement("h1",null,"Backlog"),c.a.createElement("th",{className:"nameheader"},"NAME"),c.a.createElement("table",null,c.a.createElement("tbody",null,l.map((function(e,t){return"backlog"==e.ticket_status&&c.a.createElement(O,{ticket:e,key:t})}))))),c.a.createElement("div",{className:"sprint"},c.a.createElement("h1",null,"Sprint"),c.a.createElement("th",{className:"nameheader"},"NAME"),c.a.createElement("table",null,c.a.createElement("tbody",null,l.map((function(e,t){return"sprint"==e.ticket_status&&c.a.createElement(O,{ticket:e,key:t})}))))),c.a.createElement("div",{className:"progress"},c.a.createElement("h1",null,"Progress"),c.a.createElement("th",{className:"nameheader"},"NAME"),c.a.createElement("table",null,c.a.createElement("tbody",null,l.map((function(e,t){return"progress"==e.ticket_status&&c.a.createElement(O,{ticket:e,key:t})}))))),c.a.createElement("div",{className:"done"},c.a.createElement("h1",null,"Done"),c.a.createElement("th",{className:"nameheader"},"NAME"),c.a.createElement("table",null,c.a.createElement("tbody",null,l.map((function(e,t){return"done"==e.ticket_status&&c.a.createElement(O,{ticket:e,key:t})})))))))},j=a(37),y=function(e){var t=Object(n.useContext)(E),a=Object(u.a)(t,2),l=a[0],o=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),s=i[0],m=i[1];return c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={ticket_name:s,ticket_status:"backlog"};console.log("this is testing tickets in addbacklog",l),d.a.post("http://localhost:8080/tickets/add",t).then((function(e){o((function(t){return[].concat(Object(j.a)(t),[{_id:e.data.ticket._id,ticket_name:s,ticket_status:"backlog"}])}))})),m("")}},c.a.createElement("div",{className:"addTicket"},c.a.createElement("label",null,c.a.createElement("p",null,"Add Ticket:"),c.a.createElement("input",{type:"text",name:"name",value:s,onChange:function(e){m(e.target.value),console.log({name:s})}})),c.a.createElement("input",{type:"submit",name:"Submit",className:"submit"})))},x=a(18),C=a(8);var S=function(){return c.a.createElement(p,null,c.a.createElement(x.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(x.b,{to:"/",className:"navbar-brand"},"MERN-Stack Bug Tracker App"),c.a.createElement(y,null),c.a.createElement(C.a,{path:"/",exact:!0,component:_}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.091146c0.chunk.js.map